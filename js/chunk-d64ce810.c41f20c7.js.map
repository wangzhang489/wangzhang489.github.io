{"version":3,"sources":["webpack:///./src/views/ManageUser.vue?feb9","webpack:///./src/views/ManageUser.vue?be34","webpack:///./src/services/UserDataService.js","webpack:///src/views/ManageUser.vue","webpack:///./src/views/ManageUser.vue?4697","webpack:///./src/views/ManageUser.vue?caff"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","directives","name","rawName","value","expression","attrs","domProps","on","$event","type","indexOf","_k","keyCode","key","searchUsers","target","composing","username","page","retrieveUsers","_v","headers","users","scopedSlots","_u","fn","ref","item","makeadmin","id","count","pageSize","handlePageChange","model","callback","$$v","staticRenderFns","UserDataService","params","http","get","userid","data","post","authHeader","put","delete","title","content","totalPages","currentPage","methods","addRoleListToUserList","forEach","user","rolelist","roles","map","getRequestParams","refreshList","handlePageSizeChange","event","deleteUser","mounted","component","VCard","VCardTitle","VCol","VDataTable","VIcon"],"mappings":"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","file":"js/chunk-d64ce810.c41f20c7.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ManageUser.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ManageUser.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"col-md-8\"},[_c('div',{staticClass:\"input-group mb-3\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.username),expression:\"username\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":\"Search by title\"},domProps:{\"value\":(_vm.username)},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.searchUsers($event)},\"input\":function($event){if($event.target.composing){ return; }_vm.username=$event.target.value}}}),_c('div',{staticClass:\"input-group-append\"},[_c('button',{staticClass:\"btn btn-outline-secondary\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.page = 1; _vm.retrieveUsers();}}},[_vm._v(\" Search \")])])])]),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"12\",\"lg\":\"12\"}},[_c('v-card',{staticClass:\"mx-auto\",attrs:{\"tile\":\"\"}},[_c('v-card-title',[_vm._v(\"Users\")]),_c('v-data-table',{attrs:{\"headers\":_vm.headers,\"items\":_vm.users,\"hide-default-footer\":\"\"},scopedSlots:_vm._u([{key:\"item.actions\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-icon',{staticClass:\"mr-2\",attrs:{\"small\":\"\"},on:{\"click\":function($event){return _vm.makeadmin(item.id)}}},[_vm._v(\"mdi-account\")])]}}],null,true)})],1)],1),_c('div',{staticClass:\"col-md-12\"},[_c('b-pagination',{attrs:{\"total-rows\":_vm.count,\"per-page\":_vm.pageSize,\"prev-text\":\"Prev\",\"next-text\":\"Next\"},on:{\"change\":_vm.handlePageChange},model:{value:(_vm.page),callback:function ($$v) {_vm.page=$$v},expression:\"page\"}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import http from \"../http-common\";\r\nimport authHeader from \"@/services/auth-header\";\r\n\r\n\r\n// const baseURL = \"http://localhost:8080/api\";\r\n\r\nclass UserDataService {\r\n    getAll(params) {\r\n        return http.get(`/userlist`, {params});\r\n    }\r\n    // getUserlist(params) {\r\n    //     return http.get(`/userlists`, {params});\r\n    // }\r\n\r\n    makeadmin(userid) {\r\n        return http.get(`/makeadmin?userid=${userid}`);\r\n    }\r\n\r\n\r\n    create(data) {\r\n        return http.post(\"/users\", data, {headers: authHeader()});\r\n    }\r\n\r\n    buyuser(data) {\r\n        return http.post(\"/buyuser\", data, {headers: authHeader()});\r\n    }\r\n\r\n    makeuser(data) {\r\n        return http.post(\"/checkowner\", data, {headers: authHeader()});\r\n    }\r\n\r\n    update(id, data) {\r\n        return http.put(`/users/${id}`, data, {headers: authHeader()});\r\n    }\r\n\r\n    delete(id) {\r\n        return http.delete(`/users/${id}`, {headers: authHeader()});\r\n    }\r\n\r\n\r\n    findByTitle(title) {\r\n        return http.get(`/users?title=${title}`);\r\n    }\r\n}\r\n\r\nexport default new UserDataService();","<template>\r\n  <div class=\"container\">\r\n\r\n    <!--    <v-row align=\"center\" class=\"list px-3 mx-auto\">-->\r\n    <div class=\"col-md-8\">\r\n      <div class=\"input-group mb-3\">\r\n        <input\r\n            type=\"text\"\r\n            class=\"form-control\"\r\n            placeholder=\"Search by title\"\r\n            v-model=\"username\"\r\n            @keyup.enter=\"searchUsers\"\r\n        />\r\n        <div class=\"input-group-append\">\r\n          <button\r\n              class=\"btn btn-outline-secondary\"\r\n              type=\"button\"\r\n              @click=\"page = 1; retrieveUsers();\"\r\n          >\r\n            Search\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <v-col cols=\"12\" sm=\"12\" lg=\"12\">\r\n      <v-card class=\"mx-auto\" tile>\r\n        <v-card-title>Users</v-card-title>\r\n        <v-data-table\r\n            :headers=\"headers\"\r\n            :items=\"users\"\r\n            hide-default-footer\r\n        >\r\n          <template v-slot:[`item.actions`]=\"{ item }\">\r\n            <v-icon small class=\"mr-2\" @click=\"makeadmin(item.id)\">mdi-account</v-icon>\r\n<!--            <v-icon small @click=\"deleteUser(item.id)\">mdi-delete</v-icon>-->\r\n          </template>\r\n        </v-data-table>\r\n      </v-card>\r\n    </v-col>\r\n    <div class=\"col-md-12\">\r\n      <b-pagination\r\n          v-model=\"page\"\r\n          :total-rows=\"count\"\r\n          :per-page=\"pageSize\"\r\n          prev-text=\"Prev\"\r\n          next-text=\"Next\"\r\n          @change=\"handlePageChange\"\r\n      ></b-pagination>\r\n    </div>\r\n    <!--    </v-row>-->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport UserService from '../services/user.service';\r\nimport UserDataService from \"@/services/UserDataService\";\r\n\r\nexport default {\r\n  name: 'Admin',\r\n  data() {\r\n    return {\r\n      content: '',\r\n      users: [],\r\n      title: \"\",\r\n      username: \"\",\r\n      headers: [\r\n        {text: \"ID\", sortable: false, value: \"id\"},\r\n        {text: \"Username\", align: \"start\", sortable: false, value: \"username\"},\r\n        {text: \"Email\", value: \"email\", sortable: false},\r\n        {text: \"Roles\", value: \"rolelist\", sortable: false},\r\n        {text: \"Actions\", value: \"actions\", sortable: false},\r\n      ],\r\n      totalPages: 0,\r\n      currentPage: 1,\r\n      page: 1,\r\n      count: 0,\r\n      pageSize: 5,\r\n    };\r\n  },\r\n  methods: {\r\n    addRoleListToUserList(users) {\r\n      users.forEach(user => {\r\n        user.rolelist = user.roles.map(role => role.name).join(', ');\r\n      });\r\n    },\r\n    getRequestParams(username, page, pageSize) {\r\n      let params = {};\r\n\r\n      if (username) {\r\n        params[\"username\"] = username;\r\n      }\r\n\r\n      if (page) {\r\n        params[\"page\"] = page - 1;\r\n      }\r\n\r\n      if (pageSize) {\r\n        params[\"size\"] = pageSize;\r\n      }\r\n\r\n      return params;\r\n    },\r\n    refreshList() {\r\n      this.retrieveUsers();\r\n    },\r\n\r\n    searchUsers() {\r\n      this.page = 1;\r\n      this.retrieveUsers();\r\n    },\r\n    retrieveUsers() {\r\n      const params = this.getRequestParams(\r\n          this.username,\r\n          this.page,\r\n          this.pageSize\r\n      );\r\n\r\n      UserDataService.getAll(params)\r\n          .then((response) => {\r\n            const {userlist, totalItems} = response.data;\r\n            this.users = userlist;\r\n            this.addRoleListToUserList(this.users);\r\n            this.count = totalItems;\r\n            console.log(response.data);\r\n          })\r\n          .catch((e) => {\r\n            console.log(e);\r\n          });\r\n    },\r\n    handlePageSizeChange(event) {\r\n      this.pageSize = event.target.value;\r\n      this.page = 1;\r\n      this.retrieveUsers();\r\n    },\r\n    handlePageChange(value) {\r\n      this.page = value;\r\n      this.retrieveUsers();\r\n    },\r\n    makeadmin(id) {\r\n      // this.$router.push({name: \"user-details\", params: {id: id}});\r\n      UserDataService.makeadmin(id)\r\n      this.refreshList()\r\n    },\r\n\r\n    deleteUser(id) {\r\n      UserDataService.delete(id)\r\n          .then(() => {\r\n            this.refreshList();\r\n          })\r\n          .catch((e) => {\r\n            console.log(e);\r\n          });\r\n    },\r\n\r\n\r\n  },\r\n  mounted() {\r\n    UserService.getAdminBoard().then(\r\n        response => {\r\n          this.content = response.data;\r\n        },\r\n        error => {\r\n          this.content =\r\n              (error.response && error.response.data && error.response.data.message) ||\r\n              error.message ||\r\n              error.toString();\r\n        }\r\n    );\r\n    this.retrieveUsers();\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n.list {\r\n  max-width: 750px;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ManageUser.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ManageUser.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ManageUser.vue?vue&type=template&id=797dfb55&\"\nimport script from \"./ManageUser.vue?vue&type=script&lang=js&\"\nexport * from \"./ManageUser.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ManageUser.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\ninstallComponents(component, {VCard,VCardTitle,VCol,VDataTable,VIcon})\n"],"sourceRoot":""}