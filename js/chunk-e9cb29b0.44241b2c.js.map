{"version":3,"sources":["webpack:///./src/views/BoardAdmin.vue?a29b","webpack:///./src/views/BoardAdmin.vue?da27","webpack:///src/views/BoardAdmin.vue","webpack:///./src/views/BoardAdmin.vue?97b3","webpack:///./src/views/BoardAdmin.vue?2e1f"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","directives","name","rawName","value","expression","attrs","domProps","on","$event","type","indexOf","_k","keyCode","key","searchBooks","target","composing","searchTitle","page","retrieveBooks","_v","headers","books","scopedSlots","_u","fn","ref","item","editBook","id","deleteBook","count","pageSize","handlePageChange","model","callback","$$v","staticRenderFns","data","content","title","totalPages","currentPage","pageSizes","methods","getRequestParams","params","refreshList","BookDataService","handlePageSizeChange","event","$router","push","mounted","component","VCard","VCardTitle","VCol","VDataTable","VIcon"],"mappings":"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","file":"js/chunk-e9cb29b0.44241b2c.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BoardAdmin.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BoardAdmin.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"col-md-8\"},[_c('div',{staticClass:\"input-group mb-3\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.searchTitle),expression:\"searchTitle\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":\"Search by title\"},domProps:{\"value\":(_vm.searchTitle)},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.searchBooks($event)},\"input\":function($event){if($event.target.composing){ return; }_vm.searchTitle=$event.target.value}}}),_c('div',{staticClass:\"input-group-append\"},[_c('button',{staticClass:\"btn btn-outline-secondary\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.page = 1; _vm.retrieveBooks();}}},[_vm._v(\" Search \")])])])]),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"12\",\"lg\":\"12\"}},[_c('v-card',{staticClass:\"mx-auto\",attrs:{\"tile\":\"\"}},[_c('v-card-title',[_vm._v(\"Books\")]),_c('v-data-table',{attrs:{\"headers\":_vm.headers,\"items\":_vm.books,\"hide-default-footer\":\"\"},scopedSlots:_vm._u([{key:\"item.actions\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-icon',{staticClass:\"mr-2\",attrs:{\"small\":\"\"},on:{\"click\":function($event){return _vm.editBook(item.id)}}},[_vm._v(\"mdi-pencil\")]),_c('v-icon',{attrs:{\"small\":\"\"},on:{\"click\":function($event){return _vm.deleteBook(item.id)}}},[_vm._v(\"mdi-delete\")])]}}],null,true)})],1)],1),_c('div',{staticClass:\"col-md-12\"},[_c('b-pagination',{attrs:{\"total-rows\":_vm.count,\"per-page\":_vm.pageSize,\"prev-text\":\"Prev\",\"next-text\":\"Next\"},on:{\"change\":_vm.handlePageChange},model:{value:(_vm.page),callback:function ($$v) {_vm.page=$$v},expression:\"page\"}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"container\">\r\n\r\n<!--    <v-row align=\"center\" class=\"list px-3 mx-auto\">-->\r\n   <!-- Search input group -->\r\n      <div class=\"col-md-8\">\r\n        <div class=\"input-group mb-3\">\r\n          <!-- Search input field -->\r\n          <input\r\n              type=\"text\"\r\n              class=\"form-control\"\r\n              placeholder=\"Search by title\"\r\n              v-model=\"searchTitle\"\r\n              @keyup.enter=\"searchBooks\"\r\n          />\r\n          <!-- Search button -->\r\n          <div class=\"input-group-append\">\r\n            <button\r\n                class=\"btn btn-outline-secondary\"\r\n                type=\"button\"\r\n                @click=\"page = 1; retrieveBooks();\"\r\n            >\r\n              Search\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <!-- Data table for displaying books -->\r\n      <v-col cols=\"12\" sm=\"12\" lg=\"12\">\r\n        <v-card class=\"mx-auto\" tile>\r\n          <v-card-title>Books</v-card-title>\r\n          <!-- Table component from Vuetify -->\r\n          <v-data-table\r\n              :headers=\"headers\"\r\n              :items=\"books\"\r\n              hide-default-footer\r\n          >\r\n           <!-- Slot for actions like edit and delete for each row -->\r\n            <template v-slot:[`item.actions`]=\"{ item }\">\r\n              <v-icon small class=\"mr-2\" @click=\"editBook(item.id)\">mdi-pencil</v-icon>\r\n              <v-icon small @click=\"deleteBook(item.id)\">mdi-delete</v-icon>\r\n            </template>\r\n          </v-data-table>\r\n        </v-card>\r\n      </v-col>\r\n      <!-- Pagination component -->\r\n    <div class=\"col-md-12\">\r\n      <b-pagination\r\n          v-model=\"page\"\r\n          :total-rows=\"count\"\r\n          :per-page=\"pageSize\"\r\n          prev-text=\"Prev\"\r\n          next-text=\"Next\"\r\n          @change=\"handlePageChange\"\r\n      ></b-pagination>\r\n    </div>\r\n<!--    </v-row>-->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// Importing services to interact with the backend.\r\nimport UserService from '../services/user.service';\r\nimport BookDataService from \"@/services/BookDataService\";\r\n\r\nexport default {\r\n  name: 'Admin',\r\n  data() {\r\n     // Data properties used by the component\r\n    return {\r\n      content: '',\r\n      books: [],\r\n      title: \"\",\r\n      searchTitle: \"\",\r\n      headers: [\r\n        { text: \"ID\", sortable: false, value: \"id\" },\r\n        { text: \"Title\", align: \"start\", sortable: false, value: \"title\" },\r\n        { text: \"Author\", value: \"author\", sortable: false },\r\n        { text: \"Actions\", value: \"actions\", sortable: false },\r\n      ],\r\n      totalPages: 0,\r\n      currentPage: 1,\r\n      page: 1,\r\n      count: 0,\r\n      pageSize: 25,\r\n      pageSizes: [3, 6, 9],\r\n    };\r\n  },\r\n  methods: {\r\n    getRequestParams(searchTitle, page, pageSize) {\r\n      let params = {};\r\n\r\n      if (searchTitle) {\r\n        params[\"title\"] = searchTitle;\r\n      }\r\n\r\n      if (page) {\r\n        params[\"page\"] = page - 1;\r\n      }\r\n\r\n      if (pageSize) {\r\n        params[\"size\"] = pageSize;\r\n      }\r\n\r\n      return params;\r\n    },\r\n    // Refreshes the list of books\r\n    refreshList() {\r\n      this.retrieveBooks();\r\n    },\r\n\r\n     // Called when the user hits 'enter'\r\n    searchBooks() {\r\n      this.page = 1;\r\n      this.retrieveBooks();\r\n    },\r\n    // Fetches the list of books from the backend using BookDataService\r\n    retrieveBooks() {\r\n      const params = this.getRequestParams(\r\n          this.searchTitle,\r\n          this.page,\r\n          this.pageSize\r\n      );\r\n\r\n      BookDataService.getAll(params)\r\n          .then((response) => {\r\n            const { books, totalItems } = response.data;\r\n            this.books = books;\r\n            this.count = totalItems;\r\n\r\n            console.log(response.data);\r\n          })\r\n          .catch((e) => {\r\n            console.log(e);\r\n          });\r\n    },\r\n    // Triggers when the user selects a different 'items per page' option\r\n    handlePageSizeChange(event) {\r\n      this.pageSize = event.target.value;\r\n      this.page = 1;\r\n      this.retrieveBooks();\r\n    },\r\n     // Triggers when the user changes the current page via the pagination component\r\n    handlePageChange(value) {\r\n      this.page = value;\r\n      this.retrieveBooks();\r\n    },\r\n    // Navigates to the book editing page, passing the ID of the book to be edited\r\n    editBook(id) {\r\n      this.$router.push({ name: \"book-details\", params: { id: id } });\r\n    },\r\n\r\n    // Calls the API to delete a book and then refreshes the list\r\n    deleteBook(id) {\r\n      BookDataService.delete(id)\r\n          .then(() => {\r\n            this.refreshList();\r\n          })\r\n          .catch((e) => {\r\n            console.log(e);\r\n          });\r\n    },\r\n\r\n    // getDisplayBook(book) {\r\n    //   return {\r\n    //     id: book.id,\r\n    //     title: book.title.length > 30 ? book.title.substr(0, 30) + \"...\" : book.title,\r\n    //     description: book.description.length > 30 ? book.description.substr(0, 30) + \"...\" : book.description,\r\n    //     status: book.published ? \"Published\" : \"Pending\",\r\n    //   };\r\n    // },\r\n  },\r\n  mounted() {\r\n     // Fetches administrative content\r\n    UserService.getAdminBoard().then(\r\n      response => {\r\n        this.content = response.data;\r\n      },\r\n      error => {\r\n        this.content =\r\n          (error.response && error.response.data && error.response.data.message) ||\r\n          error.message ||\r\n          error.toString();\r\n      }\r\n    );\r\n    // Initial call to populate the book list\r\n    this.retrieveBooks();\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n/* Styling for the list, ensuring it has a maximum width */\r\n.list {\r\n  max-width: 750px;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BoardAdmin.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BoardAdmin.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BoardAdmin.vue?vue&type=template&id=2788a997&\"\nimport script from \"./BoardAdmin.vue?vue&type=script&lang=js&\"\nexport * from \"./BoardAdmin.vue?vue&type=script&lang=js&\"\nimport style0 from \"./BoardAdmin.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\ninstallComponents(component, {VCard,VCardTitle,VCol,VDataTable,VIcon})\n"],"sourceRoot":""}