(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e9cb29b0"],{"3bb9":function(t,e,a){"use strict";var o=a("e4d0"),n=a.n(o);n.a},b295:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("div",{staticClass:"col-md-8"},[a("div",{staticClass:"input-group mb-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchTitle,expression:"searchTitle"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Search by title"},domProps:{value:t.searchTitle},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchBooks(e)},input:function(e){e.target.composing||(t.searchTitle=e.target.value)}}}),a("div",{staticClass:"input-group-append"},[a("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button"},on:{click:function(e){t.page=1,t.retrieveBooks()}}},[t._v(" Search ")])])])]),a("v-col",{attrs:{cols:"12",sm:"12",lg:"12"}},[a("v-card",{staticClass:"mx-auto",attrs:{tile:""}},[a("v-card-title",[t._v("Books")]),a("v-data-table",{attrs:{headers:t.headers,items:t.books,"hide-default-footer":""},scopedSlots:t._u([{key:"item.actions",fn:function(e){var o=e.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editBook(o.id)}}},[t._v("mdi-pencil")]),a("v-icon",{attrs:{small:""},on:{click:function(e){return t.deleteBook(o.id)}}},[t._v("mdi-delete")])]}}],null,!0)})],1)],1),a("div",{staticClass:"col-md-12"},[a("b-pagination",{attrs:{"total-rows":t.count,"per-page":t.pageSize,"prev-text":"Prev","next-text":"Next"},on:{change:t.handlePageChange},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})],1)],1)},n=[],s=(a("d3b7"),a("25f0"),a("1f57")),i=a("d111"),r={name:"Admin",data:function(){return{content:"",books:[],title:"",searchTitle:"",headers:[{text:"ID",sortable:!1,value:"id"},{text:"Title",align:"start",sortable:!1,value:"title"},{text:"Author",value:"author",sortable:!1},{text:"Actions",value:"actions",sortable:!1}],totalPages:0,currentPage:1,page:1,count:0,pageSize:25,pageSizes:[3,6,9]}},methods:{getRequestParams:function(t,e,a){var o={};return t&&(o["title"]=t),e&&(o["page"]=e-1),a&&(o["size"]=a),o},refreshList:function(){this.retrieveBooks()},searchBooks:function(){this.page=1,this.retrieveBooks()},retrieveBooks:function(){var t=this,e=this.getRequestParams(this.searchTitle,this.page,this.pageSize);i["a"].getAll(e).then((function(e){var a=e.data,o=a.books,n=a.totalItems;t.books=o,t.count=n,console.log(e.data)})).catch((function(t){console.log(t)}))},handlePageSizeChange:function(t){this.pageSize=t.target.value,this.page=1,this.retrieveBooks()},handlePageChange:function(t){this.page=t,this.retrieveBooks()},editBook:function(t){this.$router.push({name:"book-details",params:{id:t}})},deleteBook:function(t){var e=this;i["a"].delete(t).then((function(){e.refreshList()})).catch((function(t){console.log(t)}))}},mounted:function(){var t=this;s["a"].getAdminBoard().then((function(e){t.content=e.data}),(function(e){t.content=e.response&&e.response.data&&e.response.data.message||e.message||e.toString()})),this.retrieveBooks()}},c=r,l=(a("3bb9"),a("2877")),u=a("6544"),d=a.n(u),h=a("b0af"),p=a("99d9"),g=a("62ad"),v=a("8fea"),f=a("132d"),m=Object(l["a"])(c,o,n,!1,null,null,null);e["default"]=m.exports;d()(m,{VCard:h["a"],VCardTitle:p["c"],VCol:g["a"],VDataTable:v["a"],VIcon:f["a"]})},e4d0:function(t,e,a){}}]);
//# sourceMappingURL=chunk-e9cb29b0.44241b2c.js.map